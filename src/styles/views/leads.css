/* ==========================================================================
   3. View-Specific Styles
   ========================================================================== */
@layer components {

  /* Lead Magnets Grid */
  .lead-magnets-grid {
    @apply grid gap-6;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  }

  .lead-magnet-card {
    @apply bg-white border border-slate-200 rounded-xl p-6 flex flex-col gap-5 relative overflow-hidden;
    transition: var(--transition);
  }

  .lead-magnet-card:hover {
    @apply shadow-md border-slate-300;
    transform: translateY(-2px);
  }

  .magnet-header {
    @apply flex items-start gap-4;
  }

  .magnet-icon {
    @apply w-12 h-12 rounded-lg flex items-center justify-center shrink-0;
    color: var(--primary);
    background-color: var(--primary-light);
  }

  .magnet-info {
    @apply flex-1 min-w-0;
  }

  .magnet-info h4 {
    @apply text-base font-semibold text-black mb-1 leading-tight;
  }

  .magnet-type {
    @apply text-xs text-slate-400 uppercase tracking-wider font-semibold;
  }

  .magnet-description {
    @apply text-sm text-slate-600 leading-relaxed;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .magnet-metrics {
    @apply grid gap-4 pt-4 border-t border-b border-slate-200;
    grid-template-columns: repeat(2, 1fr);
  }

  .metric {
    @apply flex flex-col items-start min-w-0;
  }

  .metric.highlight .metric-value {
    color: var(--primary);
  }

  .metric-value {
    @apply text-base font-bold text-black leading-tight;
  }

  .metric-label {
    @apply text-xs text-slate-400;
  }

  .magnet-funnel {
    @apply bg-slate-50 rounded-lg p-4 mt-auto;
  }

  .magnet-funnel h5 {
    @apply text-xs uppercase text-slate-400 mb-3 font-semibold;
  }

  .funnel-steps {
    @apply flex flex-col gap-3;
  }

  .funnel-step {
    @apply flex items-center gap-3 text-xs;
  }

  .step-bar {
    @apply flex-1 h-1.5 bg-slate-200 rounded-full overflow-hidden;
  }

  .step-fill {
    @apply h-full rounded-full;
    transition: width 0.5s ease;
  }

  .step-info {
    @apply w-[150px] flex justify-between items-center text-slate-600;
  }

  .step-name {
    @apply whitespace-nowrap overflow-hidden text-ellipsis;
  }

  .step-dropoff {
    @apply flex items-center gap-0.5 font-semibold;
    color: var(--danger);
  }

  /* Journeys Grid */
  .journeys-grid,
  .templates-grid,
  .assets-grid {
    @apply grid gap-6;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  }

  .assets-grid {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }

  .list-header {
    @apply flex justify-between items-center mb-6;
  }

  .journey-card,
  .template-card,
  .asset-card {
    @apply bg-white border border-slate-200 rounded-xl p-6 flex flex-col gap-5 relative h-full;
    transition: var(--transition);
  }

  .journey-card:hover,
  .template-card:hover,
  .asset-card:hover {
    @apply shadow-md border-slate-300;
    transform: translateY(-2px);
  }

  .journey-header,
  .template-header {
    @apply flex justify-between items-start gap-4;
  }

  .journey-info h4,
  .template-info h4,
  .asset-info h4 {
    @apply text-base font-semibold text-black mb-1 leading-tight;
  }

  .journey-info p {
    @apply text-sm text-slate-600 leading-relaxed mb-0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .journey-stats {
    @apply grid gap-3 py-4 border-t border-b border-slate-200;
    grid-template-columns: repeat(2, 1fr);
  }

  .journey-stats .stat {
    @apply flex items-center gap-2 text-[13px] text-slate-600;
  }

  .journey-stats .stat.highlight {
    color: var(--primary);
    @apply font-medium;
  }

  .journey-meta {
    @apply flex justify-between text-xs text-slate-400;
  }

  .journey-actions,
  .template-actions,
  .asset-actions {
    @apply flex gap-2 mt-auto flex-wrap;
  }

  /* Template Card */
  .template-category {
    @apply text-xs text-slate-400 uppercase tracking-wider font-semibold;
  }

  .template-subject {
    @apply flex items-center gap-2 text-sm text-slate-600 italic bg-slate-50 p-2 rounded;
  }

  .template-stats {
    @apply grid gap-2 text-center py-3 border-t border-slate-200;
    grid-template-columns: repeat(3, 1fr);
  }

  .template-stats .stat {
    @apply flex flex-col;
  }

  .template-stats .stat-value {
    @apply font-semibold text-black;
  }

  .template-stats .stat-label {
    @apply text-xs text-slate-400;
  }

  .ab-test-result {
    @apply text-[13px] p-2 rounded flex justify-between font-medium;
    background-color: var(--success-light);
    color: var(--success);
  }

  /* Asset Card */
  .asset-preview {
    @apply h-[120px] bg-slate-50 rounded-lg flex items-center justify-center text-slate-400;
  }

  .asset-meta {
    @apply flex justify-between text-xs text-slate-400 mt-1;
  }

  .asset-downloads {
    @apply flex items-center gap-1 text-xs text-slate-600 mt-2;
  }

  /* Funnel Visualization */
  .funnel-visualization {
    @apply flex flex-col items-center gap-2 py-8;
  }

  .funnel-stage {
    @apply flex flex-col items-center gap-2 w-full;
  }

  .funnel-bar {
    @apply h-12 bg-slate-200 rounded-xl flex items-center justify-between px-6 text-white font-semibold min-w-[200px] max-w-full shadow-sm;
    transition: width 0.5s ease;
  }

  .funnel-label {
    @apply text-sm;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }

  .funnel-value {
    @apply text-base;
  }

  .funnel-conversion {
    @apply flex items-center justify-center gap-2 text-xs text-slate-600 py-1 px-3 bg-slate-100 rounded-full border border-slate-200 font-medium -my-1 z-10;
  }

  /* Product Breakdown */
  .product-breakdown {
    @apply flex flex-col gap-4;
  }

  .product-row {
    @apply flex justify-between items-center p-3 border border-slate-200 rounded-lg bg-white;
  }

  .product-info {
    @apply flex flex-col;
  }

  .product-name {
    @apply font-semibold text-black;
  }

  .product-leads {
    @apply text-xs text-slate-400;
  }

  .product-metrics {
    @apply flex gap-4 items-center text-sm;
  }

  .product-metrics .metric {
    @apply text-slate-600;
  }

  .product-metrics .metric.highlight {
    color: var(--primary);
    @apply font-semibold;
  }

  /* Sales Reps Grid */
  .sales-reps-grid,
  .integrations-grid {
    @apply grid gap-6;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }

  .sales-rep-card,
  .integration-card {
    @apply bg-white border border-slate-200 rounded-xl p-6 flex flex-col gap-4;
    transition: var(--transition);
  }

  .sales-rep-card:hover,
  .integration-card:hover {
    @apply shadow-md border-slate-300;
    transform: translateY(-2px);
  }

  .rep-header,
  .integration-header {
    @apply flex items-center gap-4;
  }

  .rep-avatar {
    @apply w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center text-slate-600;
  }

  .integration-icon {
    @apply w-10 h-10 rounded-lg bg-slate-50 flex items-center justify-center;
    color: var(--primary);
  }

  .rep-info,
  .integration-info {
    @apply flex-1;
  }

  .rep-info h4,
  .integration-info h4 {
    @apply text-base font-semibold mb-0.5;
  }

  .rep-department,
  .integration-type {
    @apply text-xs text-slate-400 uppercase tracking-wider font-semibold;
  }

  .rep-contact {
    @apply flex flex-col gap-2 text-sm text-slate-600;
  }

  .rep-contact a {
    @apply flex items-center gap-2 no-underline text-inherit;
    transition: color 0.2s;
  }

  .rep-contact a:hover {
    color: var(--primary);
  }

  .rep-stats {
    @apply grid gap-2 pt-4 border-t border-slate-200 mt-auto;
    grid-template-columns: repeat(4, 1fr);
  }

  .rep-stats .stat {
    @apply flex flex-col items-center text-center;
  }

  .rep-stats .stat-value {
    @apply font-semibold text-sm text-black;
  }

  .rep-stats .stat-label {
    @apply text-[10px] text-slate-400 uppercase;
  }

  .rep-stats .stat.highlight .stat-value {
    color: var(--primary);
  }

  /* Integration */
  .integration-status {
    @apply flex items-center gap-2 text-xs font-semibold;
  }

  .integration-description {
    @apply text-sm text-slate-600 leading-relaxed;
  }

  .integration-meta {
    @apply grid gap-2 p-3 bg-slate-50 rounded-lg;
  }

  .meta-item {
    @apply flex items-center gap-2 text-xs text-slate-600;
  }

  .integration-error {
    @apply flex items-center gap-2 text-xs p-2 rounded;
    color: var(--danger);
    background-color: var(--danger-light);
  }

  .integration-actions {
    @apply flex gap-2 mt-auto;
  }

  .error-message {
    color: var(--danger);
    @apply text-sm;
  }

  /* Avatar Circle */
  .avatar-circle {
    @apply w-7 h-7 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-600 shrink-0;
  }

  /* Funnel Chart */
  .funnel-chart-wrapper {
    @apply w-full h-80 relative;
  }

  /* News Feed Timeline - Compact Design */
  .news-feed-list {
    @apply relative py-4 px-5;
  }

  .news-feed-list::before {
    content: '';
    @apply absolute w-px bg-slate-100;
    left: 31px;
    top: 3.5rem;
    bottom: 1rem;
  }

  .timeline-group {
    @apply relative;
  }

  .news-item {
    @apply relative flex gap-3 py-2.5 z-10;
    transition: all 0.15s ease;
    border-bottom: 1px solid var(--slate-100);
  }

  .news-item:last-child {
    border-bottom: none;
  }

  .news-item:focus-visible {
    @apply outline-none;
  }

  .news-item:focus-visible .news-content-card {
    outline: 2px solid var(--primary);
    outline-offset: 1px;
  }

  .news-icon-wrapper {
    @apply w-7 h-7 rounded-full flex items-center justify-center shrink-0 z-[2];
    box-shadow: 0 0 0 3px white;
    transition: all 0.15s ease;
  }

  .news-item:hover .news-icon-wrapper {
    transform: scale(1.1);
  }

  .news-content-card {
    @apply flex-1 py-2 px-3 rounded-lg relative flex flex-col gap-0.5;
    transition: all 0.15s ease;
  }

  .news-item:hover .news-content-card {
    @apply bg-slate-50;
  }

  .news-header {
    @apply flex justify-between items-center gap-2;
  }

  .news-message {
    @apply text-[13px] font-medium text-slate-700 leading-tight;
  }

  .news-details {
    @apply text-[12px] text-slate-500 leading-snug;
  }

  .news-meta {
    @apply flex items-center gap-2 text-[11px] text-slate-400 mt-0.5;
  }

  .news-meta .badge {
    @apply text-[10px] py-0.5 px-1.5;
  }

  .news-meta-item {
    @apply flex items-center gap-1.5 text-slate-400;
  }

  .news-time {
    @apply text-[11px] text-slate-300 whitespace-nowrap;
  }

  .news-meta-item + .news-time::before {
    content: 'Â·';
    @apply mx-1.5 text-slate-300;
  }

  .news-footer {
    @apply text-xs text-slate-500;
  }

  .news-date-header {
    @apply relative z-10 pt-2 pb-3 flex;
    padding-left: 2.5rem;
  }

  .news-date-header h4 {
    @apply text-[10px] font-semibold text-slate-400 uppercase tracking-widest;
  }

  /* News action button styling */
  .news-item .btn-link {
    @apply opacity-0 text-[11px] font-medium;
    transition: all 0.15s ease;
  }

  .news-item:hover .btn-link {
    @apply opacity-100;
  }

  /* Empty state */
  .news-feed-empty {
    @apply flex flex-col items-center justify-center py-12 text-center;
  }

  .news-feed-empty-icon {
    @apply w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center mb-3 text-slate-400;
  }

  .news-feed-empty-text {
    @apply text-slate-400 text-sm;
  }

  /* Timers Grid */
  .timers-grid {
    @apply grid gap-6;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  }

  .timer-card {
    @apply bg-white border border-slate-200 rounded-xl p-6 flex flex-col gap-5;
    transition: var(--transition);
  }

  .timer-card:hover {
    @apply shadow-md border-slate-300;
    transform: translateY(-2px);
  }

  .timer-header {
    @apply flex items-start gap-4;
  }

  .timer-icon {
    @apply w-12 h-12 rounded-lg flex items-center justify-center shrink-0 bg-slate-50;
    color: var(--primary);
  }

  .timer-info {
    @apply flex-1;
  }

  .timer-info h4 {
    @apply text-base font-semibold text-black mb-1;
  }

  .timer-info p {
    @apply text-sm text-slate-600 leading-snug;
  }

  .timer-config {
    @apply flex gap-4 p-3 bg-slate-50 rounded-lg;
  }

  .config-item {
    @apply flex items-center gap-2 text-[13px] text-slate-600;
  }

  .timer-stats {
    @apply grid gap-2 py-4 border-t border-b border-slate-200 text-center;
    grid-template-columns: repeat(3, 1fr);
  }

  .timer-stats .stat {
    @apply flex flex-col;
  }

  .timer-stats .stat-value {
    @apply font-semibold text-black;
  }

  .timer-stats .stat.highlight .stat-value {
    color: var(--primary);
  }

  .timer-stats .stat-label {
    @apply text-xs text-slate-400;
  }

  .timer-actions {
    @apply flex gap-2 mt-auto;
  }

  /* Coupons */
  .coupons-list {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }

  .coupon-card {
    @apply border border-slate-200 rounded-lg p-4 bg-white;
  }

  .coupon-header {
    @apply flex items-center gap-2 mb-3;
  }

  .coupon-code {
    @apply font-mono font-semibold py-1 px-2 bg-slate-100 rounded text-base;
  }

  .coupon-status {
    @apply text-xs font-semibold ml-auto uppercase;
  }

  .coupon-description {
    @apply text-sm text-slate-600 mb-3;
  }

  .coupon-details {
    @apply flex justify-between text-xs text-slate-400 mb-2;
  }

  .coupon-progress {
    @apply h-1.5 bg-slate-100 rounded-full overflow-hidden;
  }

  .progress-bar {
    @apply h-full rounded-full;
    background-color: var(--primary);
  }

  /* Referral */
  .referral-stats-summary {
    @apply grid gap-4 p-6 bg-slate-50 rounded-lg mb-6;
    grid-template-columns: repeat(4, 1fr);
  }

  .stat-box {
    @apply flex flex-col items-center text-center;
  }

  .stat-box .stat-value {
    @apply text-2xl font-bold text-black;
  }

  .stat-box.highlight .stat-value {
    color: var(--primary);
  }

  .stat-box .stat-label {
    @apply text-[13px] text-slate-400;
  }

  .referral-tree {
    @apply flex flex-col gap-4;
  }

  .referrer-node {
    @apply border border-slate-200 rounded-lg overflow-hidden;
  }

  .referrer-header {
    @apply p-4 bg-slate-50 flex justify-between items-center border-b border-slate-200;
  }

  .referrer-info {
    @apply flex items-center gap-3 font-semibold;
  }

  .referrer-reward {
    @apply text-sm font-semibold;
    color: var(--success);
  }

  .referrals-list {
    @apply py-2;
  }

  .referral-item {
    @apply flex items-center gap-4 py-3 px-6 text-sm text-slate-600;
  }

  .referral-item:not(:last-child) {
    @apply border-b border-slate-100;
  }

  .ref-name {
    @apply font-medium text-black w-[150px];
  }

  .ref-product {
    @apply w-[120px];
  }

  .ref-status {
    @apply flex items-center gap-2 text-xs;
  }

  .ref-status.completed {
    color: var(--success);
  }

  .ref-status.pending {
    color: var(--warning);
  }

  .ref-value {
    @apply ml-auto font-semibold;
  }

  /* Churn */
  .churn-summary {
    @apply flex gap-4;
  }

  .risk-count {
    @apply text-[13px] font-semibold py-1 px-3 rounded-full;
  }

  .risk-count.high {
    background-color: var(--danger-light);
    color: var(--danger);
  }

  .risk-count.medium {
    background-color: var(--warning-light);
    color: var(--warning);
  }

  .risk-count.low {
    background-color: var(--success-light);
    color: var(--success);
  }

  .churn-metrics-bar {
    @apply grid gap-4 mb-6;
    grid-template-columns: repeat(4, 1fr);
  }

  .churn-metrics-bar .metric-card {
    @apply p-4 border border-slate-200 rounded-lg text-center flex flex-col bg-white;
  }

  .risk-factors {
    @apply flex gap-2 flex-wrap;
  }

  .risk-factor {
    @apply text-xs bg-slate-100 py-0.5 px-2 rounded text-slate-600;
  }

  .recommendation {
    @apply text-[13px] font-medium;
    color: var(--primary);
  }

  /* NPS */
  .nps-display {
    @apply flex items-center gap-12 py-8;
  }

  .nps-score-large {
    @apply flex flex-col items-center p-8 bg-slate-50 rounded-full w-40 h-40 justify-center;
    border: 4px solid var(--primary);
  }

  .nps-score-large .score {
    @apply text-5xl font-bold leading-none;
    color: var(--primary);
  }

  .nps-score-large .label {
    @apply text-sm text-slate-600 mt-1;
  }

  .nps-breakdown {
    @apply flex-1 flex flex-col gap-4;
  }

  .nps-segment {
    @apply flex items-center gap-4 py-3 px-4 rounded-lg;
  }

  .nps-segment.promoters {
    background-color: var(--success-light);
    color: var(--success);
  }

  .nps-segment.passives {
    background-color: var(--warning-light);
    color: var(--warning);
  }

  .nps-segment.detractors {
    background-color: var(--danger-light);
    color: var(--danger);
  }

  .nps-segment .percentage {
    @apply text-xl font-bold min-w-[60px];
  }

  .nps-segment .label {
    @apply font-semibold;
  }

  .feedback-list {
    @apply flex flex-col gap-4;
  }

  .feedback-item {
    @apply flex gap-4 p-4 border-b border-slate-200;
  }

  .feedback-item:last-child {
    @apply border-b-0;
  }

  .feedback-score {
    @apply w-10 h-10 rounded-lg flex items-center justify-center font-bold text-lg shrink-0;
  }

  .feedback-content {
    @apply flex-1;
  }

  .feedback-header {
    @apply flex justify-between mb-2;
  }

  .feedback-header strong {
    @apply text-black;
  }

  .feedback-header span {
    @apply text-xs text-slate-400;
  }

  .feedback-content p {
    @apply m-0 text-sm text-slate-600;
  }

  /* Thresholds */
  .thresholds-card .card-header {
    @apply mb-6;
  }

  .thresholds-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }

  .threshold-item {
    @apply flex flex-col gap-2 p-4 bg-slate-50 rounded-lg border border-slate-200;
  }

  .threshold-label {
    @apply flex flex-col gap-1 text-sm text-slate-600;
  }

  .threshold-badge {
    @apply inline-flex items-center justify-center py-1 px-2 rounded font-semibold text-xs w-fit;
  }

  .threshold-badge.variant-mql {
    background-color: var(--swk-blue-light);
    color: var(--swk-blue);
  }

  .threshold-badge.variant-sql {
    background-color: var(--success-light);
    color: var(--success);
  }

  .threshold-badge.variant-hot {
    background-color: var(--danger-light);
    color: var(--danger);
  }

  .scoring-table tr.inactive {
    @apply opacity-60 bg-slate-50;
  }

  .rule-info {
    @apply flex flex-col;
  }

  .rule-info strong {
    @apply text-black;
  }

  .rule-info span {
    @apply text-xs text-slate-600;
  }

  .category-badge {
    @apply inline-flex items-center gap-2 py-1 px-3 bg-slate-100 rounded-full text-xs text-slate-600 font-medium;
  }

  .condition-code {
    @apply font-mono text-[13px] py-1 px-2 bg-slate-100 rounded;
    color: var(--primary);
  }

  .points-input {
    @apply w-20 text-right font-semibold;
  }

  .points-input.positive {
    color: var(--success);
  }

  .points-input.negative {
    color: var(--danger);
  }

  /* Kanban */
  .pipeline-section {
    @apply overflow-x-auto -m-6 p-6;
    height: calc(100vh - 250px);
  }

  .kanban-board {
    @apply flex gap-6 h-full min-w-[1200px];
  }

  .kanban-column {
    @apply flex-1 min-w-[280px] bg-slate-50 rounded-xl flex flex-col h-full;
  }

  .kanban-column-header {
    @apply p-4 border-b-2 border-transparent flex justify-between items-center bg-white;
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
  }

  .kanban-column-header h4 {
    @apply text-sm font-semibold uppercase m-0;
  }

  .column-count {
    @apply text-xs bg-slate-100 py-0.5 px-2 rounded-full text-slate-600 font-semibold;
  }

  .kanban-cards {
    @apply p-4 overflow-y-auto flex flex-col gap-4 flex-1;
  }

  .kanban-card {
    @apply bg-white border border-slate-200 rounded-lg p-4 shadow-sm cursor-pointer;
    transition: var(--transition);
  }

  .kanban-card:hover {
    @apply shadow-md;
    transform: translateY(-2px);
  }

  .kanban-card .card-header {
    @apply flex justify-between items-center mb-3;
  }

  .lead-number {
    @apply text-xs text-slate-400 font-mono;
  }

  .kanban-card .card-content h5 {
    @apply text-[15px] font-semibold mb-1 text-black;
  }

  .lead-product {
    @apply text-xs font-medium block mb-3;
    color: var(--primary);
  }

  .kanban-card .card-footer {
    @apply flex justify-between items-center border-t border-slate-100 pt-3;
  }

  .lead-date {
    @apply text-xs text-slate-400;
  }

  .qualification-badge {
    @apply text-[10px] uppercase font-semibold py-0.5 px-1.5 rounded-sm;
  }

  .kanban-empty {
    @apply text-center p-8 text-slate-400 text-sm italic;
  }

  .change-badge {
    @apply inline-flex items-center gap-1 font-semibold;
  }

  .change-badge.positive {
    color: var(--success);
  }

  .change-badge.negative {
    color: var(--danger);
  }

  /* Variable Key */
  .variable-key {
    @apply inline-block py-0.5 px-1.5 bg-slate-100 border border-slate-200 rounded font-mono text-xs text-slate-600 mb-1;
  }

  .variable-label {
    @apply font-medium text-black;
  }

  .variable-input {
    @apply w-[120px] py-1 px-2 text-sm;
  }
}

/* ==========================================================================
   12. Leads View
   ========================================================================== */
@layer components {
  .leads-view {
    height: calc(100vh - 120px);
  }

  .leads-container {
    @apply flex h-full gap-6;
  }

  .leads-container.with-detail .leads-list-panel {
    @apply flex-1;
  }

  .leads-list-panel {
    @apply flex-1 flex flex-col;
  }

  .lead-detail-panel {
    @apply shrink-0;
    width: clamp(380px, 35%, 500px);
    min-width: 380px;
    max-width: 500px;
  }

  .leads-list {
    @apply flex flex-col h-full;
  }

  .leads-header {
    @apply flex justify-between items-center mb-4;
  }

  .leads-header h2 {
    @apply text-xl font-bold;
  }

  .leads-controls {
    @apply flex gap-2 items-center;
  }

  .section-subheader {
    @apply text-xs font-semibold uppercase text-slate-400 mb-2;
  }

  .leads-table {
    @apply flex-1;
  }

  .leads-table tr.selected {
    background: var(--primary-light);
  }

  .lead-id-cell {
    @apply font-semibold font-mono;
  }

  .lead-name-cell {
    @apply min-w-[180px];
  }

  .lead-name-info {
    @apply flex flex-col gap-0.5;
  }

  .lead-name {
    @apply font-semibold text-black block;
  }

  .lead-id-subtext {
    @apply text-xs text-slate-400 font-mono block;
  }

  .lead-contact-subtext {
    @apply text-xs text-slate-500 block;
  }

  .lead-detail {
    @apply bg-white border border-slate-200 rounded-xl h-full flex flex-col overflow-hidden;
  }

  .detail-header {
    @apply flex justify-between items-center p-4 border-b border-slate-200 sticky top-0 bg-white z-10;
  }

  .header-info {
    @apply flex items-center gap-4;
  }

  .header-info h3 {
    @apply text-base font-semibold;
  }

  .status-buttons {
    @apply flex gap-2 py-3 px-4 border-b border-slate-200 sticky bg-white z-10;
    top: 56px;
  }

  .status-buttons .btn {
    @apply flex-1 justify-center;
  }

  .detail-content {
    @apply flex-1 overflow-y-auto p-4;
  }

  .detail-section {
    @apply mb-6;
  }

  .section-title {
    @apply flex items-center gap-2 mb-3;
  }

  .section-title h4 {
    @apply text-sm font-semibold;
  }

  .section-content {
    @apply bg-slate-50 rounded-lg p-4;
  }

  .data-row {
    @apply flex justify-between py-2 border-b border-slate-200;
  }

  .data-row:last-child {
    @apply border-b-0;
  }

  .data-row .label {
    @apply text-[13px] text-slate-400;
  }

  .data-row .value {
    @apply text-[13px] font-medium;
  }

  .score-table {
    @apply text-[13px];
  }

  .score-table th,
  .score-table td {
    @apply !p-2;
  }

  .consent-section {
    @apply flex gap-8;
  }

  .consent-item {
    @apply flex items-center;
  }

  .checkbox-label {
    @apply flex items-center gap-2 cursor-pointer text-sm;
  }

  .checkbox-label input {
    @apply w-4 h-4 accent-primary;
  }

  /* Collapsible */
  .detail-section.collapsible {
    @apply border border-slate-200 rounded-lg mb-3 overflow-hidden bg-white;
  }

  .section-header-btn {
    @apply flex justify-between items-center w-full py-3 px-4 bg-slate-50 border-0 cursor-pointer;
    transition: background 0.15s ease;
  }

  .section-header-btn:hover {
    @apply bg-slate-100;
  }

  .section-header-btn:focus-visible {
    @apply outline-2 outline-primary outline-offset-[-2px];
  }

  .section-header-btn .section-title {
    @apply mb-0;
  }

  .section-chevron {
    @apply text-slate-400 shrink-0;
    transition: transform 0.2s ease;
  }

  .section-chevron.open {
    transform: rotate(180deg);
  }

  .section-body {
    animation: slideDown 0.15s ease;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-4px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .data-grid {
    @apply grid gap-x-4 gap-y-1;
    grid-template-columns: repeat(2, 1fr);
  }

  .data-grid .data-row {
    @apply border-b-0 py-1.5;
  }

  .data-row.full-width {
    grid-column: 1 / -1;
  }

  .show-more-btn {
    @apply w-full py-2 mt-2 text-[13px] text-center bg-slate-50 rounded-lg;
    color: var(--primary);
  }

  .show-more-btn:hover {
    @apply bg-slate-100 no-underline;
  }

  @media (min-width: 1400px) {
    .lead-detail-panel {
      width: clamp(420px, 30%, 550px);
      max-width: 550px;
    }
  }

  @media (max-width: 1200px) {
    .lead-detail-panel {
      @apply w-[380px] min-w-[340px];
    }

    .data-grid {
      grid-template-columns: 1fr;
    }
  }

  .lead-detail-backdrop {
    @apply hidden;
  }

  @media (max-width: 1024px) {
    .leads-container.with-detail {
      @apply relative;
    }

    .lead-detail-panel {
      @apply fixed right-0 top-0 h-screen z-50 shadow-xl;
      width: 420px;
      max-width: 90vw;
      animation: slideInRight 0.2s ease;
    }

    .lead-detail-backdrop {
      @apply block fixed inset-0 z-[49];
      background: rgba(0, 0, 0, 0.3);
    }
  }

  /* Activity Timeline */
  .activity-timeline {
    @apply flex flex-col gap-0 py-2;
  }

  .timeline-item {
    @apply flex gap-3 py-3 relative;
  }

  .timeline-item:not(:last-child)::after {
    content: '';
    @apply absolute w-0.5 bg-slate-200;
    left: 11px;
    top: 34px;
    bottom: -12px;
  }

  .timeline-icon {
    @apply w-6 h-6 rounded-full flex items-center justify-center text-white shrink-0;
  }

  .timeline-content {
    @apply flex-1 min-w-0;
  }

  .timeline-header {
    @apply flex justify-between items-start gap-2 mb-1;
  }

  .timeline-title {
    @apply text-[13px] font-semibold text-black;
  }

  .timeline-time {
    @apply text-[11px] text-slate-400 whitespace-nowrap;
  }

  .timeline-description {
    @apply text-xs text-slate-600 m-0 mb-1;
  }

  .timeline-user {
    @apply text-[11px] text-slate-400;
  }
}

